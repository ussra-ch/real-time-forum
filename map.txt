// chat


user --> server
ws connection has been created

CASE 1:
- userA --> server --> userb : bjuj bihum halin conversation
    * server :
        - ayakhd mn userA --> sauvegardi l msg f db 3la assas mam9rich (seen = false) --> aysifto l userb
    *  userb :
        - m3a rareceivi lmsg : l front aytl3 lmsg + radi ydir ws request l backen bach tbdl seen = true


CASE 2:
- userA --> server --> userb : l userb mahalch l conversation
    * server :
        - ayakhd mn userA --> sauvegardi l msg f db 3la assas mam9rich (seen = false) --> aysifto l userb
    * userb :
        - radi t receiviha wradi tala3 notification

GENERAL CASE :
- awl mara radi ydkhl luser l conversation radi njib akhir 10 msgs wradi n pingi l backen bach ybdl l values d seen l true

/////////////// ONLINE WL OFFLINE

m3a radi ytloga l user :
    lfront 

/////////////// NOTIFICATIONS
userA --> server --> userb

userA --> server :
    - server radi y9yed l msg f db wydir seen = false

server --> userb :
    - ila l userb 7al l conversation :
        * print l msg wrj3 seen = true
    - ila la :
        * zid 1 f notifications wkhali seen = false
        * once l user y7l l conversation rj3 seen l true



///////////////// IF THE USR IS OPENNING THE conversation

mni y7l l conversation radi nkhali wahd l variable fih true wnstore hta sender_id w receiver_id 
    --> mni ywsl msg jdid radi ntchecke wach struct fiha receiver_id huwa user_id db w sender_id huwa chakhs lakhur + dk l variable true :
        *** ila ah : message nichan wl seen = true
        *** ila la anzid ra9m notifications


/////////////// FLOW DYAL CHAT :

click on conversationButton (users.js) --> kansift msg khawi + seen=true + isOpen=true l websocket.go --> IN BACKEND: kankhali dk luser online + kansid l conversation dyalo ka open